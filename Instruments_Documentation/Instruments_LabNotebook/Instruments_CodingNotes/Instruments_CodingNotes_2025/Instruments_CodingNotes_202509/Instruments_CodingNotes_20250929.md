# align_timestamps.py
- Prior to checking the offset of the other instruments, need to apply the known timestamp drift correction to 2BTech_205_A
	- Tried a few different methods to do this, but ultimately:
		- Declared the timestamps known to be correct
		- Used the known correct timestamps and offset just before second correction (15 s ahead) to determine extra time added by instrument
			- ~5 us/s
		- Knowing approximate offset before first correction (~1 minute), used known drift to determine an approximate third (/first) "real" timestamp
		- Joined the real timestamps with the DataFrame and determined how many seconds the instrument said passed since the most recent known correct timestamp
		- Converted from instrument seconds passed to real seconds passed, then used that offset from the most recent correct timestamp to determine the corrected value
		- Seems to work well!
	- Revised code to be well-commented and to replace original columns with corrected columns instead of creating new ones
	- Would like to convert this into a function in case I need to apply it to other instruments - perhaps should wait on that?
		- Will wait
	- Integrated time offset correction into the concatenation/collection/split by week code block
- Now, going to work on identifying the times that Picarro and 2B start/stop measuring UZA using a combination of valve states and derivatives
	- Beginning with Picarro as I know that one does best
		- Wondering if I need the valve states actually - going to check how good Picarro derivative works to identify since the valve states don't always correspond to actual zeroing
			- Using the valve states - makes it a lot more straightforward
	- I think I may wish to change the partitioning by week to happen a bit later
		- Want to calculate d/dt before splitting, then want to consider determining all zero starts/stops for each instrument before splitting
		- Fixed code to calculate d/dt before splitting
	- Moving valve state read in to earlier in the script
	- Added code to identify the start and stop of UZA measurements before partitioning by week
- Revised code to look at the UZA measurement starts/stops
	- Because it is doing a backwards join as of, it's identifying the second point for 2BTech_205_A that shows a change between room air and zero air - need to add a filter that makes it identify the first one only
		- Tried but it didn't work - even though it's theoretically the same as last time I did this
			- Ends up just removing everything for some reason
		- Perhaps I can just recognize that the timestamps are ~1 minute off - account for that
			- More often than not they are ahead, going to try to just shift the time and see how that works
				- It doesn't - great :)
		- I can't figure this out! What if I just create an extra column that is offset by like 5 minutes, join by that one using a forward join, then remove it and use the original?
			- Didn't work either
			- Reset this file to the last commit and am just gonna work with it from there (tired of things not working :)))))))
	- Based on the slope of the difference between the corrected UZA measurement times for 2BTech_205_A and Picarro, I believe that the Picarro has a zero drift of ~20 us/s
		- Attempted to correct, but didn't work :/
		- AHHHHHHHH !!!!!!! I HATE IT HERE