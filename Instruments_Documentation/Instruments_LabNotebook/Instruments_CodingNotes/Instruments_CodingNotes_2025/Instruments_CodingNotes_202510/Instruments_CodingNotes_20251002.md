# delete.py
- Confirming that the lab notes are representative
	- Picarro_G2307
		- What's happening June 14? 10:00, 13:00, 16:00 - CO2 addition????
			- New regulator - some kind of interference?
		- What's happening July 8? 19:21 ???
		- What's happening July 29? 12:00 - 20:00 ish - air flow measurements? CO2 addition? - I think it just has to do with people coming in/out of the space
		- What happened July 31 ~13:00? - GUV? someone in the room
		- What happened August 5? ~13:00? someone in the room
	- ThermoScientific_42i-TL
		- Add zeros 7/21 - 7/22
	- Satisfied with the interferences labeled, need to add the zeros
		- Done, now need to remove the zeros from June when the UZA was empty adjust clean_rawdata.py
# clean_rawdata.py
- Revised valve_states to not count solenoid valve states of 1 during period where UZA tank was empty
	- After checking, looks good!
- Now need to figure out why Hampel filter appears to not be working
	- Confirmed that code is filtering outliers for Phase II data
	- Checking Phase I
		- March 11, need to add the manual O3 additions or it filters out the start of them - also strict filter with O3 no higher than 150? 200?
		- March 24, point at -7 should be IDed as outlier
		- April 15, point at ~24 missed
		- April 27 several points missed
		- May 3 point missed
		- May 4 several points missed
		- May 5 several points missed
		- May 7 several points missed
		- May 8 point missed
		- May 16 points missed
		- May 20 point missed
		- May 21, 22, 23, 29
		- June 6 have manual? O3 adds to add
		- June 10 add manual O3 add
		- Missed points July 2, July 9, July 10, July 11, 13?,
		- July 23 missing addition? ~16:00?
		- Missed point July 29, 30, Aug 1, 14
	- The points that are being missed are very clearly outside of the Hampel filter range - why are they being kept?
		- Checking d/dt to see if that gives me an answer
			- That is why - I think I meant to set the d/dt cutoff to 0.025, not 0.25
			- When I fixed this, looked a lot better
				- Actually, it definitely depends on averaging time
				- 10s averaging time (Phase II data) SHOULD be 0.25 cutoff, and 2s averaging time should be 2.5 cutoff, 1 minute should be 0.025 - how to implement?
					- Calculate averaging time and do a join_asof?
						- This worked well, checking results but I expect it'll be all good - and this means Phase II data won't change!
	- What's happening March 20 - interferences?
	- Logging manual O3 additions
		- Already logged really, just hadn't been read in - doing now
	- Increased time offset to 75 seconds for 2024 data to hopefully handle the slightly offset instrument times
	- Almost there, just need to adjust the manual O3 addition times to prevent cutting out real data
		- Actually it's the automated additions cutting out real data! Interesting
		- Going to offset the start time by 1 minute to determine data to keep by default
	- Final thing is to cut out non-real data from zeros
		- Only one instance as far as I am aware and it's pretty obvious (-20 ppb reading)
			- July 19, also have -12 and -14 ppb reading
			- -22.9 is July 22
			- A cutoff of -12 works, even with a later zero that nears -12 - must be gt -12
			- Making this only apply to 2024 data because I don't want to worry about how it might affect 2025 data
	- Checking
		- Picarro zeros still messed up on June 6 and 7 but I'm just not going to care
			- Only going to share data from June 10 and beyond
# characterize_zeros.py
- Running script to characterize zeros for 2024
- Modified to have the year in the file names so they don't get replaced
- Thermo correlations are similar between 2024 and 2025 - don't need to compare much
- 2BTech_205_A actually differs by quite a bit
	- Actually within rounding it's basically the same slope, slightly different offset
	- Not particularly worried about it
- Trying to modify to prevent exporting if the R2 value is less than 0.01 (O3)
- Satisfied that I've characterized zeros
# calibrate_cleandata.py
- Don't think I really need to make any changes, going to run with current calibration dates, then going to change to cal dates I want to use for Phase I
- Realized that I hadn't properly selected the correlations to use - modifying to only calibrate selected year at a time
- Then revised to recreate the accidentally overwritten 2025 files
- Going to check the calibrated data to make sure everything looks reasonable
# delete.py
- Checking plots with uncertainty and LOD shown to ensure nothing is too weird
	- All looks good
	- Side note - 2B NOx data is ridiculous
# evaluate_leak.py
- Now that I have the calibrated data, going to try to estimate the magnitude of the leak
- First, working on getting the ozone background for the 2025 data
	- Joining with the most recent ozone addition start time, removing data within 2 hours of the associated ozone addition stop time
- Now, going to try to determine the I/V ratio at 10 minute time resolution
	- May decide to remove data below the LOD - wait to see
		- Yes remove
	- Visually, looks like I/V drops from ~0.4 to ~0.1 after leak fixed (yikes)
- Going to interpolate background O3 to get a background during decays rather than using the I/O ratio (later will compare, but WAY later)
- Instead of removing data during the addition period, just going to make it null and then interpolate
	- Checked and this gives the same result with I/O ratio
- Did interpolation, now going to do background subtraction and see what that looks like
- Quick look at the plots:
	- **Need to take a closer look at NOx - doesn't look like the offset was corrected at all?**
	- During leak
		- Jan 21 18:00 - Jan 27 04:00 representative of decays under normal NOx
	- Leak fixed
		- Jan 27 22:00, Jan 28 02:00, Jan 29 02:00 representative of decays under normal NOx
			- Jan 30 on as well, but not interested in going much beyond Jan 29
	- Comparison:
		- Divide at Jan 27 12:00 MT
		- For during leak, use Jan 27 02:00, Jan 26 at 14:00 18:00 10:00 6:00 (gives a full day with normal NO)
		- For after leak fixed, use 
# calibrate_cleandata.py
- Moving back to this because I fear I may not have applied the offset ever
- Will need to update these ICARTT files - R1 now!
# evaluate_leak.py
- Identified which additions I want to use for the before and after comparison
- Determined the concentration before the addition, the highest concentration reached, and the difference between the two for each addition I will use for comparison
- Plotted figures with pre and post leak fix side by side
- Values
	- With leak (starting conc, max conc, difference)
		- 16.36606263470769, 70.19246940329097, 53.82640676858328
		- 18.95081317322362, 74.87713298588744, 55.92631981266382
		- 15.223231397824279, 67.9477347699635, 52.724503372139225
		- 13.293326306337956, 67.9477347699635, 54.65440846362554
		- 7.982151935477574, 64.43423708301613, 56.452085147538554
	- Fixed
		- 4.607179246940328, 106.1082235365306, 101.50104428959027
		- 6.011319003551906, 107.0841951162382, 101.0728761126863
		- 0.06418895817237658, 95.56773047568855, 95.50354151751617
	- Cross at 30-40 ppb
		- Overlayed to check that, seems about right
- Now going to see what the background looks like
	- Looks different, but not sure I can quantify - after, mostly below LOD
- Tried to compare Phase I backgrounds but I am confusion
	- I think I introduced leak June 13? Not sure, 24th also possible?
	- 100% leaking by 7/15 - didn't measure any flow (or maybe not?)
	- April 15 was when I set up the TG line, pump flow was 2.9 lpm on air
	- Spring, had pump pulling 1.44 LPM on its own and that was good, so anything higher should be fine?
	- Could have introduced in on 5/14, but I don't think so
	- 5/28 overflow pump was off
	- 6/5 pump was pulling plenty
	- HAD to have been the 13th, had pump pulling only 0.7 on room air - but that was higher than the 0.178 I measured Jan 27
	- Could also have been 6/24 - I have no measurements but know I adjusted flows
	- Best guess is the 13th, other option is the 24th - was definitely fine prior to the 13th